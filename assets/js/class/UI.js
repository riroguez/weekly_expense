import{formatAmount as e,deleteExpense as t}from"../funtions.js";import{contentExpense as a}from"../selectors.js";class UI{insertBudget(t){document.querySelector("#expense").textContent=e(t.budget),document.querySelector("#remaining").textContent=e(t.remaining)}showData(){let e=document.createElement("div");e.classList.add("div-main");let t=document.createElement("h2");t.classList.add("expenses-heading"),t.textContent="Listado de Gastos";let a=document.createElement("div");a.classList.add("div-grid");let l=document.createElement("div");l.classList.add("content-progress");let r=document.createElement("progress");r.min="0",r.max="100",r.value="0",r.id="containerProgress",r.classList.add("bar-progress");let s=document.createElement("p");s.classList.add("parragraph-progress-bar"),s.textContent="0% ";let n=document.createElement("div");n.classList.add("child-grid-result");let d=document.createElement("p");d.classList.add("parragraph"),d.textContent="Presupuesto: ";let o=document.createElement("span");o.id="expense";let i=document.createElement("p");i.classList.add("parragraph"),i.textContent="Restante: ";let p=document.createElement("span");p.classList.add("color-green"),p.id="remaining";let c=document.createElement("p");c.classList.add("parragraph"),c.textContent="Gastado: ";let h=document.createElement("span");h.id="sumTotal",h.textContent="$0,00";let m=document.createElement("button");m.type="button",m.textContent="Reset App",m.onclick=()=>{this.resetApp()},d.appendChild(o),i.appendChild(p),c.appendChild(h),n.appendChild(d),n.appendChild(i),n.appendChild(c),l.appendChild(s),l.appendChild(r),a.appendChild(l),a.appendChild(n),e.appendChild(t),e.appendChild(a),e.appendChild(m),document.querySelector(".expenses-container").appendChild(e)}resetApp(){window.location.reload()}showAlert(e,t,a){let l=document.querySelector(".alert");l&&l.remove();let r=document.createElement("p");r.classList.add("alert",t),r.textContent=e,document.querySelector(`${a}`).appendChild(r),setTimeout(()=>{r.remove()},3e3)}addBudgetList(l){this.cleanHTML(),l.forEach(l=>{let{nameExpense:r,amountExpense:s,id:n}=l,d=document.createElement("div");d.classList.add("div-list-expense");let o=document.createElement("p");o.classList.add("p-expense"),o.textContent=r;let i=document.createElement("p");i.classList.add("p-remaining"),i.textContent=e(s);let p=document.createElement("button");p.classList.add("button-delete"),p.type="butoon",p.textContent="Eliminar x",p.onclick=()=>{t(n)},d.appendChild(o),d.appendChild(i),d.appendChild(p),a.appendChild(d)})}cleanHTML(){for(;a.firstChild;)a.removeChild(a.firstChild)}updateRemaining(t){document.querySelector("#remaining").textContent=e(t)}checkBudget(e){let{budget:t,remaining:a}=e,l=document.querySelector("#remaining");t/4>a?(l.classList.remove("color-green","color-yellow"),l.classList.add("color-red"),this.showAlert("El saldo esta por agotarce","error","#errorListExpense")):t/2>a?(l.classList.remove("color-green"),l.classList.add("color-yellow"),this.showAlert("Ya gasto el 50% de su saldo","warning","#errorListExpense")):(l.classList.remove("color-red","color-yellow"),l.classList.add("color-green")),a<=0?(this.showAlert("El saldo se agoto","error","#errorListExpense"),document.querySelector(".icon-plus").style.display="none"):document.querySelector(".icon-plus").style.display="grid"}sumExpenses(t){let a=0;t.forEach(e=>{let{amountExpense:t}=e;a+=t}),document.querySelector("#sumTotal").textContent=e(a)}caculatePercentage(e){let{budget:t,remaining:a}=e,l=((t-a)/t*100).toFixed(2);setTimeout(()=>{document.querySelector("#containerProgress").value=l,document.querySelector(".parragraph-progress-bar").textContent=l+"% Gastado"},500)}}export default UI;